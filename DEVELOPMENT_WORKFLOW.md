# Claude Workbench æ™ºèƒ½åŒ–å¼€å‘å·¥ä½œæµæŒ‡å—

> åŸºäºæ·±åº¦é¡¹ç›®åˆ†æç”Ÿæˆçš„ä¸“ä¸šå¼€å‘æŒ‡å¯¼ï¼Œé…åˆ claude-workbench-expert subagent ä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ä¸“ç”¨ Subagent
```bash
# å¯åŠ¨ä¸“ç”¨å¼€å‘åŠ©æ‰‹
> Use the claude-workbench-expert subagent to [ä½ çš„å…·ä½“éœ€æ±‚]
```

ä¸“ç”¨ subagent å·²ç»æ·±åº¦ç†è§£é¡¹ç›®æ¶æ„ï¼ŒåŒ…å«ï¼š
- âœ… **å®Œæ•´æŠ€æœ¯æ ˆé…ç½®**: Tauri 2 + React 18 + TypeScript + Rust
- âœ… **Claude 4 å¹¶è¡Œä¼˜åŒ–**: è‡ªåŠ¨å¹¶è¡Œå·¥å…·è°ƒç”¨ç­–ç•¥
- âœ… **é¡¹ç›®ç‰¹å®šå·¥å…·**: 60+ ç»„ä»¶æ¶æ„ç†è§£
- âœ… **å¸¸è§é—®é¢˜è§£å†³**: æ„å»ºã€Claude CLIã€UI/UX ä¸“å®¶çº§æ”¯æŒ

## ğŸ“‹ æ™ºèƒ½å¼€å‘æµç¨‹

### Phase 1: éœ€æ±‚åˆ†æ (30ç§’)
```yaml
è‡ªåŠ¨å¹¶è¡Œåˆ†æ:
  é¡¹ç›®çŠ¶æ€æ£€æŸ¥:
    - Read: package.json, Cargo.toml, tauri.conf.json
    - Bash: "git status", "npm ls", "cargo check"
  
  ç›¸å…³ä»£ç æ‰«æ:
    - Grep: éœ€æ±‚ç›¸å…³çš„å…³é”®è¯å’Œæ¨¡å¼
    - Glob: ç›¸å…³æ–‡ä»¶ç±»å‹å’Œç»„ä»¶
  
  æŠ€æœ¯èµ„æºæŸ¥è¯¢:
    - mcp__Context7: ç›¸å…³æŠ€æœ¯æ–‡æ¡£
    - mcp__tavily__tavily-search: æœ€ä½³å®è·µå’Œè§£å†³æ–¹æ¡ˆ
```

### Phase 2: æ–¹æ¡ˆè®¾è®¡ (1åˆ†é’Ÿ)
```yaml
æ¶æ„é€‚é…åˆ†æ:
  å‰ç«¯æ–¹æ¡ˆ (React/TypeScript):
    - ç»„ä»¶è®¾è®¡: åŸºäºç°æœ‰60+ç»„ä»¶æ¨¡å¼
    - çŠ¶æ€ç®¡ç†: Context/hooks æˆ–æœ¬åœ°çŠ¶æ€
    - UIé›†æˆ: Radix UI + Tailwind CSS
    - ç±»å‹å®‰å…¨: TypeScript æ¥å£å®šä¹‰
  
  åç«¯æ–¹æ¡ˆ (Rust/Tauri):
    - å‘½ä»¤è®¾è®¡: #[command] å‡½æ•°æ¨¡å¼
    - æ•°æ®å¤„ç†: SQLite + serde åºåˆ—åŒ–
    - é”™è¯¯å¤„ç†: Result<T, String> æ¨¡å¼
    - å¼‚æ­¥å¤„ç†: tokio å¹¶å‘ä¼˜åŒ–
  
  é›†æˆæ–¹æ¡ˆ:
    - APIé€šä¿¡: invoke() ç±»å‹å®‰å…¨è°ƒç”¨
    - æ•°æ®æµ: Frontend â†” Backend â†” Database
    - é”™è¯¯å¤„ç†: ç»Ÿä¸€é”™è¯¯å¤„ç†ç­–ç•¥
```

### Phase 3: å¹¶è¡Œå®ç° (ä¸»è¦å¼€å‘æ—¶é—´)
```yaml
å‰ç«¯å¼€å‘å¹¶è¡Œ:
  - Write: Reactç»„ä»¶åˆ›å»º
  - Edit: ç°æœ‰ç»„ä»¶ä¿®æ”¹
  - mcp__Context7: React/TypeScript æ–‡æ¡£æŸ¥è¯¢
  - Bash: "npm run dev" å®æ—¶é¢„è§ˆ

åç«¯å¼€å‘å¹¶è¡Œ:
  - Write: Rustå‘½ä»¤å®ç°
  - Edit: ç°æœ‰å‘½ä»¤ä¿®æ”¹  
  - mcp__Context7: Tauri/Rust æ–‡æ¡£æŸ¥è¯¢
  - Bash: "cargo check", "cargo test"

è´¨é‡ä¿è¯å¹¶è¡Œ:
  - Bash: TypeScriptç±»å‹æ£€æŸ¥
  - Bash: Rustä»£ç æ ¼å¼åŒ–å’ŒLint
  - Read: é”™è¯¯æ—¥å¿—å’Œè°ƒè¯•ä¿¡æ¯
```

### Phase 4: æµ‹è¯•éªŒè¯ (é›†æˆæµ‹è¯•)
```yaml
æ„å»ºéªŒè¯:
  - Bash: "npm run tauri build" (å®Œæ•´æ„å»º)
  - éªŒè¯: Windowså…¼å®¹æ€§æ£€æŸ¥
  - æµ‹è¯•: æ ¸å¿ƒåŠŸèƒ½ç«¯åˆ°ç«¯æµ‹è¯•

åŠŸèƒ½éªŒè¯:
  - Claude CLI é›†æˆæµ‹è¯•
  - MCP æœåŠ¡å™¨è¿æ¥æµ‹è¯•  
  - ä»£ç†å•†åˆ‡æ¢åŠŸèƒ½æµ‹è¯•
  - UI/UX äº¤äº’æµ‹è¯•
```

## ğŸ¯ ä¸“ä¸šå¼€å‘æ¨¡å¼

### 1. Claude CLI é›†æˆå¼€å‘
```yaml
ä½¿ç”¨åœºæ™¯: ä¼šè¯ç®¡ç†ã€CLIå‚æ•°ã€è¿›ç¨‹å¤„ç†
ä¸“å®¶æ¨¡å¼:
  - å¹¶è¡Œæ£€æŸ¥: claude.rs + APIæ¥å£ + å‰ç«¯ç»„ä»¶
  - è‡ªåŠ¨ä¿®å¤: å‚æ•°å…¼å®¹æ€§é—®é¢˜
  - æ€§èƒ½ä¼˜åŒ–: è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - é”™è¯¯å¤„ç†: Windowsç‰¹å®šé—®é¢˜è§£å†³

å…³é”®æ–‡ä»¶:
  - src-tauri/src/commands/claude.rs (æ ¸å¿ƒ)
  - src/components/ClaudeCodeSession.tsx (UI)
  - src/lib/api.ts (APIå®šä¹‰)
```

### 2. MCP åè®®å¼€å‘
```yaml
ä½¿ç”¨åœºæ™¯: æœåŠ¡å™¨ç®¡ç†ã€é…ç½®ã€è¿æ¥æµ‹è¯•
ä¸“å®¶æ¨¡å¼:
  - å¹¶è¡Œå¼€å‘: mcp.rs + MCPManager.tsx + é…ç½®æ–‡ä»¶
  - åè®®ç†è§£: Model Context Protocol è§„èŒƒ
  - é”™è¯¯å¤„ç†: è¿æ¥å¤±è´¥å’Œé‡è¯•æœºåˆ¶
  - ç”¨æˆ·ä½“éªŒ: ç›´è§‚çš„ç®¡ç†ç•Œé¢

å…³é”®æ–‡ä»¶:
  - src-tauri/src/commands/mcp.rs (æ ¸å¿ƒ)
  - src/components/MCPManager.tsx (UI)
  - .mcp.json (é¡¹ç›®é…ç½®)
```

### 3. ä»£ç†å•†ç®¡ç†å¼€å‘
```yaml
ä½¿ç”¨åœºæ™¯: APIåˆ‡æ¢ã€é…ç½®ç®¡ç†ã€è¿æ¥æµ‹è¯•
ä¸“å®¶æ¨¡å¼:
  - é™é»˜åˆ‡æ¢: æ— å¼¹çª—çš„ç”¨æˆ·ä½“éªŒ
  - å®‰å…¨å­˜å‚¨: æœ¬åœ°é…ç½®ç®¡ç†
  - è‡ªåŠ¨æ£€æµ‹: å½“å‰é…ç½®è¯†åˆ«
  - å¿«é€ŸéªŒè¯: è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€æ˜¾ç¤º

å…³é”®æ–‡ä»¶:
  - src-tauri/src/commands/provider.rs (æ ¸å¿ƒ)
  - src/components/ProviderManager.tsx (UI)
  - src/components/Settings.tsx (è®¾ç½®ç•Œé¢)
```

### 4. UI/UX ç»„ä»¶å¼€å‘
```yaml
ä½¿ç”¨åœºæ™¯: ç•Œé¢ç»„ä»¶ã€ä¸»é¢˜ã€å›½é™…åŒ–
ä¸“å®¶æ¨¡å¼:
  - OKLCHè‰²å½©: ç°ä»£è‰²å½©ç©ºé—´æ”¯æŒ
  - å“åº”å¼è®¾è®¡: æ¡Œé¢åº”ç”¨é€‚é…
  - ä¸­æ–‡ä¼˜å…ˆ: å›½é™…åŒ–æœ€ä½³å®è·µ
  - æ— éšœç¢æ”¯æŒ: Radix UI åŸç”Ÿæ”¯æŒ

å…³é”®æŠ€æœ¯:
  - Tailwind CSS 4.1.8 (æ ·å¼)
  - Framer Motion (åŠ¨ç”»)
  - Radix UI (ç»„ä»¶åŸè¯­)
  - i18next (å›½é™…åŒ–)
```

## ğŸ”§ æ™ºèƒ½å·¥å…·ä½¿ç”¨

### å¹¶è¡Œå¼€å‘ç­–ç•¥
```yaml
ä»£ç åˆ†æé˜¶æ®µ:
  å¿…é¡»å¹¶è¡Œ: Read + Grep + Glob (ç†è§£ç°æœ‰ä»£ç )
  å¯é€‰å¹¶è¡Œ: mcp__Context7 + mcp__tavily__tavily-search (æŠ€æœ¯æŸ¥è¯¢)

å¼€å‘å®æ–½é˜¶æ®µ:
  å¿…é¡»å¹¶è¡Œ: Write/Edit + å®æ—¶æ„å»ºæ£€æŸ¥
  æ¨èå¹¶è¡Œ: å‰åç«¯ä»£ç åŒæ—¶å¼€å‘
  
æµ‹è¯•éªŒè¯é˜¶æ®µ:
  å¿…é¡»å¹¶è¡Œ: å¤šç§æµ‹è¯•ç±»å‹åŒæ—¶æ‰§è¡Œ
  ç³»ç»ŸéªŒè¯: æ„å»º + åŠŸèƒ½ + æ€§èƒ½æµ‹è¯•
```

### é—®é¢˜è¯Šæ–­æµç¨‹
```yaml
1. å¿«é€Ÿå®šä½ (30ç§’):
   - åŒæ—¶æ£€æŸ¥: å‰ç«¯æ§åˆ¶å° + åç«¯æ—¥å¿— + æ„å»ºè¾“å‡º
   - å¹¶è¡ŒéªŒè¯: é…ç½®æ–‡ä»¶ + ä¾èµ–çŠ¶æ€ + ç¯å¢ƒå˜é‡

2. æ·±åº¦åˆ†æ (2åˆ†é’Ÿ):
   - ä»£ç å®¡æŸ¥: ç›¸å…³æ–‡ä»¶çš„å¹¶è¡Œè¯»å–å’Œåˆ†æ
   - å†å²å¯¹æ¯”: git diff å’Œå˜æ›´è®°å½•
   - æ–‡æ¡£æŸ¥è¯¢: æŠ€æœ¯æ ˆç›¸å…³æ–‡æ¡£

3. è§£å†³å®æ–½ (ä¸»è¦æ—¶é—´):
   - å¹¶è¡Œä¿®å¤: å¤šä¸ªç›¸å…³æ–‡ä»¶çš„åŒæ—¶ä¿®æ”¹
   - å®æ—¶éªŒè¯: ä¿®æ”¹åçš„å³æ—¶æµ‹è¯•
   - å›å½’æ£€æŸ¥: ç¡®ä¿ä¸å½±å“å…¶ä»–åŠŸèƒ½
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŒ‡å—

### å‰ç«¯æ€§èƒ½
```typescript
// React ç»„ä»¶ä¼˜åŒ–
const OptimizedComponent = React.memo(({ data }: Props) => {
  const memoizedValue = useMemo(() => expensiveCalculation(data), [data]);
  const handleClick = useCallback(() => { /* ... */ }, []);
  return <div>{memoizedValue}</div>;
});

// è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ– (ClaudeCodeSession)
const rowVirtualizer = useVirtualizer({
  count: messages.length,
  estimateSize: () => 200,
  overscan: 8, // æ€§èƒ½ä¼˜åŒ–å‚æ•°
});
```

### åç«¯æ€§èƒ½
```rust
// å¼‚æ­¥å¹¶å‘ä¼˜åŒ–
#[command]
async fn optimized_command() -> Result<String, String> {
    let (result1, result2) = tokio::join!(
        async_operation_1(),
        async_operation_2()
    );
    // å¹¶è¡Œå¤„ç†ç»“æœ
}

// æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
async fn optimized_query(conn: &Connection) -> Result<Vec<Record>, Error> {
    // ä½¿ç”¨ç´¢å¼•å’Œæ‰¹é‡æ“ä½œ
    conn.prepare_cached("SELECT * FROM table WHERE indexed_column = ?")
}
```

### æ„å»ºä¼˜åŒ–
```bash
# å‘å¸ƒæ„å»ºä¼˜åŒ–é…ç½® (Cargo.toml)
[profile.release]
opt-level = "z"      # ä½“ç§¯ä¼˜åŒ–
lto = true           # é“¾æ¥æ—¶ä¼˜åŒ–
strip = true         # ç¬¦å·å‰¥ç¦»
codegen-units = 1    # å•çº¿ç¨‹ä»£ç ç”Ÿæˆ
```

## ğŸš¨ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### æ„å»ºé—®é¢˜
```yaml
ç—‡çŠ¶: "é¡µé¢æ–‡ä»¶å¤ªå°ï¼Œæ— æ³•å®Œæˆæ“ä½œ"
åŸå› : Rustå·¥å…·é“¾æŸåæˆ–è™šæ‹Ÿå†…å­˜ä¸è¶³
è§£å†³: 
  - rustup update
  - cargo clean
  - é‡å¯å¼€å‘ç¯å¢ƒ

ç—‡çŠ¶: è·¨è®¾å¤‡å…¼å®¹æ€§é—®é¢˜
åŸå› : ä½¿ç”¨äº†å¼€å‘æ¨¡å¼æ„å»º
è§£å†³: å¿…é¡»ä½¿ç”¨ "npm run tauri build" + bun
```

### Claude CLI é—®é¢˜
```yaml
ç—‡çŠ¶: "unknown option '--resume-project'"
åŸå› : ä½¿ç”¨äº†ä¸å­˜åœ¨çš„CLIå‚æ•°
è§£å†³: ä½¿ç”¨æ­£ç¡®å‚æ•° (-c ç»§ç»­, --resume sessionId æ¢å¤)

ç—‡çŠ¶: ä¼šè¯è¾“å‡ºä¸æ»šåŠ¨
åŸå› : è™šæ‹Ÿæ»šåŠ¨é…ç½®æˆ–è‡ªåŠ¨æ»šåŠ¨é€»è¾‘
è§£å†³: æ£€æŸ¥ ClaudeCodeSession.tsx çš„æ»šåŠ¨æœºåˆ¶
```

### UI/UX é—®é¢˜
```yaml
ç—‡çŠ¶: ä¸»é¢˜åˆ‡æ¢å¼‚å¸¸
åŸå› : OKLCHè‰²å½©ç©ºé—´æµè§ˆå™¨å…¼å®¹æ€§
è§£å†³: æ£€æŸ¥ç›®æ ‡æµè§ˆå™¨æ”¯æŒ (Chrome 88+, Firefox 113+)

ç—‡çŠ¶: ä¸­æ–‡å­—ä½“æ˜¾ç¤ºé—®é¢˜
åŸå› : å­—ä½“å›é€€é“¾é…ç½®
è§£å†³: éªŒè¯ Tailwind é…ç½®ä¸­çš„ä¸­æ–‡å­—ä½“æ ˆ
```

## ğŸ¯ é«˜æ•ˆå¼€å‘æŠ€å·§

### 1. æ™ºèƒ½ä»£ç å¯¼èˆª
```bash
# å¿«é€Ÿå®šä½æ ¸å¿ƒåŠŸèƒ½
grep -r "execute_claude_code" src-tauri/  # æ‰¾åˆ°Claude CLIé›†æˆ
grep -r "FloatingPromptInput" src/        # æ‰¾åˆ°è¾“å…¥ç»„ä»¶
grep -r "MCPManager" src/                 # æ‰¾åˆ°MCPç®¡ç†
```

### 2. å¹¶è¡Œè°ƒè¯•ç­–ç•¥
```yaml
å‰ç«¯è°ƒè¯•:
  - æµè§ˆå™¨å¼€å‘è€…å·¥å…· (React DevTools)
  - Console é”™è¯¯å’Œè­¦å‘Šç›‘æ§
  - Network æ ‡ç­¾çš„APIè°ƒç”¨è·Ÿè¸ª

åç«¯è°ƒè¯•:
  - Rust cargo æ—¥å¿—è¾“å‡º
  - Tauri è¿›ç¨‹ç®¡ç†ç›‘æ§
  - æ•°æ®åº“æ“ä½œæ—¥å¿—

ç³»ç»Ÿè°ƒè¯•:
  - ä»»åŠ¡ç®¡ç†å™¨è¿›ç¨‹ç›‘æ§
  - æ–‡ä»¶ç³»ç»Ÿæƒé™æ£€æŸ¥
  - ç½‘ç»œè¿æ¥çŠ¶æ€éªŒè¯
```

### 3. ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ
```bash
# åˆ†æ”¯ç®¡ç†
git checkout -b feature/new-functionality
git checkout -b fix/claude-cli-parameters
git checkout -b ui/theme-improvements

# æäº¤è§„èŒƒ
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git commit -m "fix: ä¿®å¤Claude CLIå‚æ•°é—®é¢˜"
git commit -m "ui: ä¼˜åŒ–ä¸»é¢˜åˆ‡æ¢ä½“éªŒ"
```

## ğŸ“š æŠ€æœ¯èµ„æºé€ŸæŸ¥

### æ ¸å¿ƒæ–‡æ¡£
- **Tauri 2**: https://v2.tauri.app/
- **React 18**: https://react.dev/
- **TypeScript**: https://www.typescriptlang.org/
- **Rust**: https://doc.rust-lang.org/

### é¡¹ç›®ç‰¹å®šèµ„æº
- **Radix UI**: https://www.radix-ui.com/
- **Tailwind CSS**: https://tailwindcss.com/
- **Framer Motion**: https://www.framer.com/motion/
- **SQLite Rust**: https://docs.rs/rusqlite/

### Windows å¼€å‘
- **Windows API**: https://docs.microsoft.com/en-us/windows/win32/
- **Process Management**: CreateProcess, è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ
- **File System**: Windowsè·¯å¾„å¤„ç†, UNCè·¯å¾„æ”¯æŒ

## ğŸš€ æœªæ¥å‘å±•æ–¹å‘

### æŠ€æœ¯æ¼”è¿›
1. **AIé›†æˆæ‰©å±•**: æ”¯æŒæ›´å¤šAIæ¨¡å‹å’ŒAPIæä¾›å•†
2. **æ’ä»¶æ¶æ„**: å¯æ‰©å±•çš„åŠŸèƒ½æ’ä»¶ç³»ç»Ÿ
3. **äº‘ç«¯åŒæ­¥**: è·¨è®¾å¤‡é…ç½®å’Œä¼šè¯åŒæ­¥
4. **é«˜çº§MCP**: æ›´ä¸°å¯Œçš„MCPæœåŠ¡å™¨ç”Ÿæ€é›†æˆ

### ç”¨æˆ·ä½“éªŒæå‡
1. **æ™ºèƒ½åŠ©æ‰‹**: å†…ç½®å¼€å‘åŠ©æ‰‹å’Œé—®é¢˜è¯Šæ–­
2. **å¯è§†åŒ–è°ƒè¯•**: å›¾å½¢åŒ–çš„è°ƒè¯•å’Œç›‘æ§ç•Œé¢
3. **è‡ªå®šä¹‰å·¥ä½œæµ**: ç”¨æˆ·å®šä¹‰çš„å¼€å‘æµç¨‹
4. **å›¢é˜Ÿåä½œ**: å¤šäººåä½œçš„é¡¹ç›®ç®¡ç†åŠŸèƒ½

---

**è®°ä½**: å§‹ç»ˆä½¿ç”¨ `claude-workbench-expert` subagent æ¥è·å¾—æœ€ä¸“ä¸šçš„å¼€å‘æ”¯æŒï¼å®ƒå·²ç»æ·±åº¦ç†è§£é¡¹ç›®çš„æ¯ä¸ªæŠ€æœ¯ç»†èŠ‚ï¼Œèƒ½å¤Ÿæä¾›æœ€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚